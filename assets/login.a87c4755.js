import{d as q,C as h,D as z,F as D,r as i,g as I,G as L,H as t,x as c,j as s,i as n,k as l,v as g,I as N,J as S,K as U}from"./vendor.e824a5fb.js";import{s as u,i as m,M as _,S as B}from"./index.c472d56c.js";import{_ as v}from"./eIcon.5a1d24ca.js";const R={class:"login-page"},A={class:"login-header"},F={class:"login-title"},G=["href"],H=g("Element"),J=t("b",null," Admin",-1),K=[H,J],P={class:"login-main"},T={class:"login-main__title"},Z={class:"login-footer"},O=["value"],Q=["value"],oe=q({setup(W){const p=h(u.getters["app/language"]),{proxy:w}=U(),y=a=>{const e=Number(a.target.value);w.$i18n.locale=e===_.En?"en":"zh",u.commit("app/setLanguage",e),B.set(e)},V={account:[{required:!0,message:m.global.t("message.login.rules.accountRequiredMessage"),trigger:"blur"},{min:5,max:20,message:m.global.t("message.login.rules.accountLengthMessage"),trigger:"blur"}],password:[{required:!0,message:m.global.t("message.login.rules.passwordRequiredMessage"),trigger:"blur"},{min:5,max:20,message:m.global.t("message.login.rules.passwordLengthMessage"),trigger:"blur"}]},f=h(),o=z({account:"admin",password:"123456",remember:!1}),$=D(),k=async()=>{f.value.validate(a=>{if(a)try{u.dispatch("user/login",{account:o.account,password:o.password,remember:o.remember}).then(()=>{$.replace({name:"dashboard"})}).catch(e=>{console.log("login error")})}catch{}})};return(a,e)=>{const b=i("el-input"),d=i("el-form-item"),C=i("el-checkbox"),x=i("el-button"),M=i("el-form"),E=i("el-divider"),j=i("el-link");return I(),L("div",R,[t("header",A,[t("h1",F,[t("a",{href:a.$domain,target:"_blank"},K,8,G)])]),t("main",P,[t("h2",T,c(a.$t("message.login.title")),1),s(M,{ref_key:"$form",ref:f,model:l(o),rules:V,class:"login-form"},{default:n(()=>[s(d,{prop:"account"},{default:n(()=>[s(b,{modelValue:l(o).account,"onUpdate:modelValue":e[0]||(e[0]=r=>l(o).account=r),placeholder:a.$t("message.login.account"),clearable:""},{prefix:n(()=>[s(v,{name:"user-filled",size:18})]),_:1},8,["modelValue","placeholder"])]),_:1}),s(d,{prop:"password"},{default:n(()=>[s(b,{modelValue:l(o).password,"onUpdate:modelValue":e[1]||(e[1]=r=>l(o).password=r),type:"password",placeholder:a.$t("message.login.password"),clearable:""},{prefix:n(()=>[s(v,{name:"lock",size:18})]),_:1},8,["modelValue","placeholder"])]),_:1}),s(d,{class:"login-form__last-item"},{default:n(()=>[s(C,{modelValue:l(o).remember,"onUpdate:modelValue":e[2]||(e[2]=r=>l(o).remember=r),label:a.$t("message.login.remember"),size:"large"},null,8,["modelValue","label"]),s(x,{type:"primary",disabled:!l(o).account||!l(o).password,class:"login-form__submit",onClick:k},{default:n(()=>[g(c(a.$t("message.login.signIn")),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"]),s(E,{"border-style":"double"}),t("footer",Z,[s(j,{type:"primary"},{default:n(()=>[g(c(a.$t("message.login.forgotPassword")),1)]),_:1}),N(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>p.value=r),onChange:y,class:"login-language"},[t("option",{value:l(_).En},"English",8,O),t("option",{value:l(_).Zh},"\u4E2D\u6587",8,Q)],544),[[S,p.value]])])])])}}});export{oe as default};
